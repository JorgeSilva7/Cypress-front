"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[509],{9826:(e,n,r)=>{r.r(n),r.d(n,{default:()=>x});var t=r(9269),o={class:"q-pa-md",style:{"max-width":"400px",margin:"auto"}};function i(e,n,r,i,u,a){var c=(0,t.up)("q-input"),s=(0,t.up)("q-btn"),l=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t.Wm)(l,{onSubmit:i.onSubmit,class:"q-gutter-md"},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{for:"verify-code",filled:"",modelValue:i.code,"onUpdate:modelValue":n[0]||(n[0]=function(e){return i.code=e}),label:"Code",hint:"Verification code","lazy-rules":"",type:"text",rules:[function(e){return e&&e.length>5||"Please type the verification code"}]},null,8,["modelValue","rules"]),(0,t._)("div",null,[(0,t.Wm)(s,{id:"verify-submit",label:"Submit",type:"submit",color:"primary"})]),(0,t._)("div",null,[(0,t.Wm)(s,{id:"verify-resend",label:"Resend code",color:"green",onClick:n[1]||(n[1]=function(e){return i.resendCode()})})])]})),_:1},8,["onSubmit"])])}var u=r(8542),a=r(5884),c=(r(4719),r(2703),r(1477),r(5393)),s=r(5999),l=r(6237),d=r(2201);const f={name:"VerifyView",mounted:function(){this.onVerifyError()},setup:function(){var e=(0,d.tv)(),n=(0,s.Z)(),r=(0,l.iH)(null),t=function(){var n=(0,a.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return localStorage.setItem("verified",!0),n.next=3,e.push({name:"home"});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{code:r,onSubmit:function(){return(0,a.Z)((0,u.Z)().mark((function e(){var o;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.loading.show(),e.next=3,(0,c.T)({code:r.value});case 3:if(o=e.sent,n.loading.hide(),!o.error){e.next=12;break}if(n.notify({color:"red-4",textColor:"white",icon:"warning",message:o.message}),"verify_already_verified_error"!==o.name){e.next=10;break}return e.next=10,t();case 10:e.next=15;break;case 12:return n.notify({color:"green-4",textColor:"white",icon:"check",message:"Verification successful"}),e.next=15,t();case 15:case"end":return e.stop()}}),e)})))()},resendCode:function(){return(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.loading.show(),setTimeout((function(){n.notify({color:"orange-4",textColor:"white",icon:"info",message:"Feature not developed yet"}),n.loading.hide()}),1e3);case 2:case"end":return e.stop()}}),e)})))()},onVerifyError:function(){"1"===this.$route.query.verify_error&&(n.notify({color:"red-4",textColor:"white",icon:"warning",message:"You need to verify your account"}),localStorage.removeItem("verified"))}}}};var m=r(7617),p=r(3276),h=r(2914),v=r(570),y=r(1410),w=r.n(y);const g=(0,m.Z)(f,[["render",i]]),x=g;w()(f,"components",{QForm:p.Z,QInput:h.Z,QBtn:v.Z})}}]);
//# sourceMappingURL=verify.d4d8eea4.js.map