{"version":3,"file":"js/verify.d4d8eea4.js","mappings":"8IACOA,MAAM,UAAUC,MAAA,qC,6GAArBC,EAAAA,EAAAA,IAiCM,MAjCNC,EAiCM,EAhCJC,EAAAA,EAAAA,IA+BSC,EAAA,CA/BAC,SAAQC,EAAAD,SAAUN,MAAM,e,mBAC/B,iBAYE,EAZFI,EAAAA,EAAAA,IAYEI,EAAA,CAXAC,IAAI,cACJC,OAAA,G,WACSH,EAAAI,K,qDAAAJ,EAAAI,KAAIC,CAAA,GACbC,MAAM,OACNC,KAAK,oBACL,gBACAC,KAAK,OACJC,MAAK,UAAgBC,GAAG,OAAmBA,GAAOA,EAAIC,OAAM,0C,gCAM/DC,EAAAA,EAAAA,GAOM,aANJf,EAAAA,EAAAA,IAKEgB,EAAA,CAJAC,GAAG,gBACHR,MAAM,SACNE,KAAK,SACLO,MAAM,eAGVH,EAAAA,EAAAA,GAOM,aANJf,EAAAA,EAAAA,IAKEgB,EAAA,CAJAC,GAAG,gBACHR,MAAM,cACNS,MAAM,QACLC,QAAKC,EAAA,KAAAA,EAAA,YAAAZ,GAAA,OAAEL,EAAAkB,YAAU,O,qHAa5B,SACEC,KAAM,aACNC,QAAO,WACLC,KAAKC,eACP,EACAC,MAAK,WACH,IAAMC,GAASC,EAAAA,EAAAA,MAETC,GAAKC,EAAAA,EAAAA,KAELvB,GAAOwB,EAAAA,EAAAA,IAAI,MAEXC,EAAO,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAI,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACuB,OAAtCC,aAAaC,QAAQ,YAAY,GAAKJ,EAAAE,KAAA,EAChCd,EAAOiB,KAAK,CAAEtB,KAAM,SAAS,wBAAAiB,EAAAM,OAAA,GAAAR,EAAA,KACpC,kBAHY,OAAAJ,EAAAa,MAAA,KAAAC,UAAA,KAKb,MAAO,CACLxC,KAAAA,EAEML,SAAQ,WAAG,OAAAgC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAAY,IAAA,IAAAC,EAAA,OAAAd,EAAAA,EAAAA,KAAAG,MAAA,SAAAY,GAAA,eAAAA,EAAAV,KAAAU,EAAAT,MAAA,OACE,OAAjBZ,EAAGsB,QAAQC,OAAMF,EAAAT,KAAA,GACMY,EAAAA,EAAAA,GAAO,CAC5B9C,KAAMA,EAAK+C,QACX,OACe,GAHXL,EAAOC,EAAAK,KAGb1B,EAAGsB,QAAQK,QAEPP,EAASQ,MAAO,CAAFP,EAAAT,KAAA,SAMd,GALFZ,EAAG6B,OAAO,CACRxC,MAAO,QACPyC,UAAW,QACXC,KAAM,UACNC,QAASZ,EAASY,UAEE,kCAAlBZ,EAAS3B,KAAwC,CAAA4B,EAAAT,KAAA,gBAAAS,EAAAT,KAAA,GAC7CT,IAAU,QAAAkB,EAAAT,KAAA,iBAQhB,OALFZ,EAAG6B,OAAO,CACRxC,MAAO,UACPyC,UAAW,QACXC,KAAM,QACNC,QAAS,4BACTX,EAAAT,KAAA,GAEIT,IAAU,yBAAAkB,EAAAL,OAAA,GAAAG,EAAA,IAzBHd,EA2BjB,EAEMb,WAAU,WAAG,OAAAa,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAA0B,IAAA,OAAA3B,EAAAA,EAAAA,KAAAG,MAAA,SAAAyB,GAAA,eAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OACjBZ,EAAGsB,QAAQC,OACXY,YAAW,WACTnC,EAAG6B,OAAO,CACRxC,MAAO,WACPyC,UAAW,QACXC,KAAM,OACNC,QAAS,8BAEXhC,EAAGsB,QAAQK,MACb,GAAG,KAAK,wBAAAO,EAAAlB,OAAA,GAAAiB,EAAA,IAVS5B,EAWnB,EAEAT,cAAa,WAC4B,MAAnCD,KAAKyC,OAAOC,MAAMC,eACpBtC,EAAG6B,OAAO,CACRxC,MAAO,QACPyC,UAAW,QACXC,KAAM,UACNC,QAAS,oCAEXnB,aAAa0B,WAAW,YAE5B,EAEJ,G,8DChHF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,IAKA,IAAS,EAAQ,aAAc,CAACC,MAAK,WAAO,SAAK,K","sources":["webpack://app/./src/views/Verify.vue","webpack://app/./src/views/Verify.vue?2c11"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\" style=\"max-width: 400px; margin: auto\">\r\n    <q-form @submit=\"onSubmit\" class=\"q-gutter-md\">\r\n      <q-input\r\n        for=\"verify-code\"\r\n        filled\r\n        v-model=\"code\"\r\n        label=\"Code\"\r\n        hint=\"Verification code\"\r\n        lazy-rules\r\n        type=\"text\"\r\n        :rules=\"[\r\n          (val) =>\r\n            (val && val.length > 5) || 'Please type the verification code',\r\n        ]\"\r\n      />\r\n\r\n      <div>\r\n        <q-btn\r\n          id=\"verify-submit\"\r\n          label=\"Submit\"\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <q-btn\r\n          id=\"verify-resend\"\r\n          label=\"Resend code\"\r\n          color=\"green\"\r\n          @click=\"resendCode()\"\r\n        />\r\n      </div>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { verify } from \"@/services/auth.service\";\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"VerifyView\",\r\n  mounted() {\r\n    this.onVerifyError();\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const $q = useQuasar();\r\n\r\n    const code = ref(null);\r\n\r\n    const goToHome = async () => {\r\n      localStorage.setItem(\"verified\", true);\r\n      await router.push({ name: \"home\" });\r\n    };\r\n\r\n    return {\r\n      code,\r\n\r\n      async onSubmit() {\r\n        $q.loading.show();\r\n        const response = await verify({\r\n          code: code.value,\r\n        });\r\n        $q.loading.hide();\r\n\r\n        if (response.error) {\r\n          $q.notify({\r\n            color: \"red-4\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: response.message,\r\n          });\r\n          if (response.name === \"verify_already_verified_error\") {\r\n            await goToHome();\r\n          }\r\n        } else {\r\n          $q.notify({\r\n            color: \"green-4\",\r\n            textColor: \"white\",\r\n            icon: \"check\",\r\n            message: \"Verification successful\",\r\n          });\r\n\r\n          await goToHome();\r\n        }\r\n      },\r\n\r\n      async resendCode() {\r\n        $q.loading.show();\r\n        setTimeout(() => {\r\n          $q.notify({\r\n            color: \"orange-4\",\r\n            textColor: \"white\",\r\n            icon: \"info\",\r\n            message: \"Feature not developed yet\",\r\n          });\r\n          $q.loading.hide();\r\n        }, 1000);\r\n      },\r\n\r\n      onVerifyError() {\r\n        if (this.$route.query.verify_error === \"1\") {\r\n          $q.notify({\r\n            color: \"red-4\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: \"You need to verify your account\",\r\n          });\r\n          localStorage.removeItem(\"verified\");\r\n        }\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./Verify.vue?vue&type=template&id=3efa76d1\"\nimport script from \"./Verify.vue?vue&type=script&lang=js\"\nexport * from \"./Verify.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QInput,QBtn});\n"],"names":["class","style","_createElementBlock","_hoisted_1","_createVNode","_component_q_form","onSubmit","$setup","_component_q_input","for","filled","code","$event","label","hint","type","rules","val","length","_createElementVNode","_component_q_btn","id","color","onClick","_cache","resendCode","name","mounted","this","onVerifyError","setup","router","useRouter","$q","useQuasar","ref","goToHome","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","localStorage","setItem","push","stop","apply","arguments","_callee2","response","_context2","loading","show","verify","value","sent","hide","error","notify","textColor","icon","message","_callee3","_context3","setTimeout","$route","query","verify_error","removeItem","__exports__","render","QForm"],"sourceRoot":""}