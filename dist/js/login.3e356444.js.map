{"version":3,"file":"js/login.3e356444.js","mappings":"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","sources":["webpack://app/./src/views/Login.vue","webpack://app/./src/views/Login.vue?d9b8","webpack://app/./src/views/Register.vue","webpack://app/./src/views/Register.vue?2ffb"],"sourcesContent":["<template>\r\n  <div class=\"q-pa-md\" style=\"max-width: 400px; margin: auto\">\r\n    <div class=\"text-h3\" style=\"padding: 50px 0px\">Sign in</div>\r\n    <q-form @submit=\"onSubmit\" class=\"q-gutter-md\">\r\n      <q-input\r\n        for=\"login-email\"\r\n        filled\r\n        v-model=\"email\"\r\n        label=\"Email\"\r\n        hint=\"Email\"\r\n        lazy-rules\r\n        type=\"email\"\r\n        :rules=\"[(val) => (val && val.length > 0) || 'Please type your email']\"\r\n      />\r\n\r\n      <q-input\r\n        for=\"login-password\"\r\n        filled\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n        label=\"Password\"\r\n        lazy-rules\r\n        :rules=\"[\r\n          (val) => (val !== null && val !== '') || 'Please type your password',\r\n        ]\"\r\n      />\r\n      <p>\r\n        Don't have an account?\r\n        <router-link to=\"/register\" class=\"text-weight-light\"\r\n          >Sign up here</router-link\r\n        >\r\n      </p>\r\n      <div>\r\n        <q-btn id=\"login-submit\" label=\"Login\" type=\"submit\" color=\"primary\" />\r\n      </div>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login } from \"@/services/auth.service\";\r\nimport { setToken } from \"@/services/helpers\";\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"LoginView\",\r\n  mounted() {\r\n    this.onLoginError();\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const $q = useQuasar();\r\n\r\n    const email = ref(null);\r\n    const password = ref(null);\r\n\r\n    return {\r\n      email,\r\n      password,\r\n\r\n      async onSubmit() {\r\n        $q.loading.show();\r\n        const response = await login({\r\n          email: email.value,\r\n          password: password.value,\r\n        });\r\n        $q.loading.hide();\r\n\r\n        if (response.error) {\r\n          $q.notify({\r\n            color: \"red-4\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: response.message,\r\n          });\r\n        } else {\r\n          $q.notify({\r\n            color: \"green-4\",\r\n            textColor: \"white\",\r\n            icon: \"check\",\r\n            message: \"Login correcto\",\r\n          });\r\n\r\n          setToken(response.token);\r\n\r\n          await router.push({ name: \"home\" });\r\n        }\r\n      },\r\n\r\n      onLoginError() {\r\n        if (this.$route.query.login_error === \"1\") {\r\n          $q.notify({\r\n            color: \"red-4\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: \"Please enter your credentials\",\r\n          });\r\n        }\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./Login.vue?vue&type=template&id=6d0e8eda\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QInput,QBtn});\n","<template>\r\n  <div class=\"q-pa-md\" style=\"max-width: 400px; margin: auto\">\r\n    <div class=\"text-h3\" style=\"padding: 50px 0px\">Sign up</div>\r\n    <q-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"q-gutter-md\">\r\n      <q-input\r\n        for=\"register-email\"\r\n        filled\r\n        v-model=\"email\"\r\n        label=\"Email\"\r\n        lazy-rules\r\n        type=\"email\"\r\n        :rules=\"[(val) => (val && val.length > 0) || 'Please type an email']\"\r\n      />\r\n\r\n      <q-input\r\n        for=\"register-name\"\r\n        filled\r\n        v-model=\"name\"\r\n        label=\"Name\"\r\n        lazy-rules\r\n        type=\"text\"\r\n        :rules=\"[(val) => (val && val.length > 0) || 'Please type your name']\"\r\n      />\r\n\r\n      <q-input\r\n        for=\"register-rut\"\r\n        filled\r\n        v-model=\"rut\"\r\n        label=\"RUT\"\r\n        hint=\"RUT in any format\"\r\n        lazy-rules\r\n        type=\"text\"\r\n        :rules=\"[\r\n          (val) => (val && val.length > 0) || 'Please type your RUT (DNI)',\r\n          (val) => (val && rutjs.validate(val)) || 'The RUT is not valid',\r\n        ]\"\r\n      />\r\n\r\n      <q-input\r\n        for=\"register-password\"\r\n        filled\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n        label=\"Password\"\r\n        lazy-rules\r\n        :rules=\"[\r\n          (val) => (val !== null && val !== '') || 'Please type a password',\r\n        ]\"\r\n      />\r\n\r\n      <q-input\r\n        for=\"register-password\"\r\n        filled\r\n        type=\"password\"\r\n        v-model=\"confirmPassword\"\r\n        label=\"Confirm the password\"\r\n        lazy-rules\r\n        :rules=\"[\r\n          (val) =>\r\n            (val !== null && val !== '') || 'Please confirm the password',\r\n          (val) => (val && val == password) || 'Passwords do not match',\r\n        ]\"\r\n      />\r\n\r\n      <p>\r\n        Already registered?\r\n        <router-link to=\"/login\" class=\"text-weight-light\">Sign in</router-link>\r\n      </p>\r\n\r\n      <div>\r\n        <q-btn\r\n          id=\"register-submit\"\r\n          label=\"Register\"\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n        />\r\n        <q-btn\r\n          label=\"Reset\"\r\n          type=\"reset\"\r\n          color=\"primary\"\r\n          flat\r\n          class=\"q-ml-sm\"\r\n        />\r\n      </div>\r\n    </q-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { register } from \"@/services/auth.service\";\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport rutjs from \"rut.js\";\r\n\r\nexport default {\r\n  name: \"LoginView\",\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const $q = useQuasar();\r\n\r\n    const email = ref(null);\r\n    const password = ref(null);\r\n    const name = ref(null);\r\n    const confirmPassword = ref(null);\r\n    const rut = ref(null);\r\n\r\n    return {\r\n      email,\r\n      password,\r\n      name,\r\n      confirmPassword,\r\n      rut,\r\n      rutjs,\r\n\r\n      async onSubmit() {\r\n        $q.loading.show();\r\n        const response = await register({\r\n          email: email.value,\r\n          password: password.value,\r\n          name: name.value,\r\n          rut: rut.value,\r\n        });\r\n        $q.loading.hide();\r\n\r\n        if (response.error) {\r\n          $q.notify({\r\n            color: \"red-4\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: response.message,\r\n          });\r\n        } else {\r\n          $q.notify({\r\n            color: \"green-4\",\r\n            textColor: \"white\",\r\n            icon: \"check\",\r\n            message: \"Please login\",\r\n          });\r\n\r\n          await router.push({ name: \"login\" });\r\n        }\r\n      },\r\n\r\n      onReset() {\r\n        email.value = null;\r\n        password.value = null;\r\n        name.value = null;\r\n        rut.value = null;\r\n        confirmPassword.value = null;\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>","import { render } from \"./Register.vue?vue&type=template&id=5963ba43\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QInput,QBtn});\n"],"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_q_form","onSubmit","$setup","_component_q_input","for","filled","email","$event","label","hint","type","rules","val","length","password","_component_router_link","to","_component_q_btn","id","color","name","mounted","this","onLoginError","setup","router","useRouter","$q","useQuasar","ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","loading","show","login","value","sent","hide","error","notify","textColor","icon","message","setToken","token","push","stop","$route","query","login_error","__exports__","render","QForm","onReset","rut","rutjs","validate","confirmPassword","flat","register"],"sourceRoot":""}